{% extends "base.html" %}

{% block title %}ç·¨è¼¯å…¬å‘Š - SELA å¿«é»ä¾†é»é¤{% endblock %}

{% block content %}
<div class="space-y-4">
    <!-- æ¨™é¡Œåˆ— -->
    <div class="flex items-center justify-between">
        <h1 class="text-xl font-bold text-gray-800">âœï¸ ç·¨è¼¯å…¬å‘Š</h1>
        <a href="/admin/announcements" class="text-sm text-gray-500 hover:text-gray-700">è¿”å›å…¬å‘Šç®¡ç† â†’</a>
    </div>
    
    <!-- ç·¨è¼¯è¡¨å–® -->
    <div class="bg-white rounded-lg shadow-sm p-4">
        <form action="/admin/announcements/{{ announcement.id }}" method="POST" class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">æ¨™é¡Œ</label>
                <input type="text" name="title" required 
                       value="{{ announcement.title }}"
                       class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">å…§å®¹</label>
                <textarea name="content" rows="5" required
                          class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent">{{ announcement.content }}</textarea>
            </div>
            <div class="flex flex-wrap gap-4 text-sm">
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" name="is_pinned" value="true" {% if announcement.is_pinned %}checked{% endif %}>
                    <span class="text-gray-600">ğŸ“Œ ç½®é ‚</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" name="is_active" value="true" {% if announcement.is_active %}checked{% endif %}>
                    <span class="text-gray-600">âœ… å•Ÿç”¨</span>
                </label>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">éæœŸæ™‚é–“ï¼ˆé¸å¡«ï¼‰</label>
                <input type="datetime-local" name="expires_at"
                       value="{{ announcement.expires_at.strftime('%Y-%m-%dT%H:%M') if announcement.expires_at else '' }}"
                       class="border border-gray-300 rounded-lg px-3 py-2 text-sm">
            </div>
            
            <!-- å…¬å‘Šè³‡è¨Š -->
            <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500">
                <div>å»ºç«‹è€…ï¼š{{ announcement.created_by.show_name }}</div>
                <div>å»ºç«‹æ™‚é–“ï¼š{{ announcement.created_at.strftime('%Y/%m/%d %H:%M') }}</div>
            </div>
            
            <div class="flex gap-3 pt-2">
                <button type="submit" class="flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-600">
                    ğŸ’¾ å„²å­˜è®Šæ›´
                </button>
                <a href="/admin/announcements" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50">
                    å–æ¶ˆ
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
